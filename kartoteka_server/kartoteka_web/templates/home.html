{% extends "base.html" %}
{% block title %}Strona główna - Kartoteka{% endblock %}

{% block head_extra %}
<style>
.hero-section {
    background: radial-gradient(circle at top center, #18181b 0%, #09090b 100%);
    border-bottom: 1px solid #27272a;
    padding: 80px 24px;
    position: relative;
    overflow: hidden;
    text-align: center;
}
.hero-section::before {
    content: "";
    position: absolute;
    top: 0; left: 50%; transform: translateX(-50%);
    width: 100%; height: 100%;
    background-image: radial-gradient(#27272a 1px, transparent 1px);
    background-size: 40px 40px;
    opacity: 0.1;
    mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
    pointer-events: none;
}
.feature-card {
    background: #18181b;
    border: 1px solid #27272a;
    transition: all 0.3s ease;
}
.feature-card:hover {
    transform: translateY(-4px);
    border-color: #3f3f46;
    box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
}
</style>
{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section">
  <div class="container mx-auto px-4 max-w-4xl relative z-10">
      
    {% if username %}
        <div class="inline-flex items-center px-3 py-1 bg-indigo-500/10 border border-indigo-500/20 rounded-full text-xs font-medium text-indigo-400 mb-6 animate-in fade-in slide-in-from-bottom-4 duration-700">
            <span class="w-2 h-2 rounded-full bg-indigo-500 mr-2 animate-pulse"></span>
            Witaj ponownie, {{ username }}
        </div>
        
        <h1 class="text-4xl md:text-6xl font-bold text-white tracking-tight mb-6 leading-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100">
            Twoja kolekcja <br/>
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-500">w jednym miejscu</span>
        </h1>
        
        <p class="text-lg text-zinc-400 max-w-2xl mx-auto mb-10 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200">
            Zarządzaj kartami, śledź wartość portfolio i licytuj unikalne okazy. 
            Wszystko, czego potrzebujesz jako kolekcjoner.
        </p>
        
        <div class="flex flex-wrap justify-center gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300">
            <a href="/collection" class="px-8 py-4 bg-white text-black font-bold rounded-xl hover:bg-zinc-200 transition-colors shadow-lg shadow-white/10 flex items-center gap-2">
                <i data-lucide="folder-open" class="w-5 h-5"></i>
                Moja Kolekcja
            </a>
            <a href="/cards/add" class="px-8 py-4 bg-zinc-900 text-white font-bold rounded-xl border border-zinc-800 hover:bg-zinc-800 transition-colors flex items-center gap-2">
                <i data-lucide="plus" class="w-5 h-5"></i>
                Dodaj Karty
            </a>
        </div>

    {% else %}
        <div class="inline-flex items-center px-3 py-1 bg-amber-500/10 border border-amber-500/20 rounded-full text-xs font-medium text-amber-400 mb-6">
            <i data-lucide="sparkles" class="w-3 h-3 mr-2"></i>
            Pokemon TCG Manager
        </div>
        
        <h1 class="text-4xl md:text-6xl font-bold text-white tracking-tight mb-6 leading-tight">
            Profesjonalne narzędzie <br/>
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500">dla kolekcjonerów</span>
        </h1>
        
        <p class="text-lg text-zinc-400 max-w-2xl mx-auto mb-10">
            Kataloguj karty, monitoruj ceny rynkowe i odkrywaj nowe okazje.
            Dołącz do społeczności i buduj swoje portfolio już dziś.
        </p>
        
        <div class="flex flex-wrap justify-center gap-4">
            <a href="/register" class="px-8 py-4 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-400 hover:to-orange-500 text-white font-bold rounded-xl shadow-lg shadow-orange-900/20 transition-all hover:scale-105 flex items-center gap-2">
                <i data-lucide="rocket" class="w-5 h-5"></i>
                Rozpocznij za darmo
            </a>
            <a href="/login" class="px-8 py-4 bg-zinc-900 text-zinc-300 font-bold rounded-xl border border-zinc-800 hover:bg-zinc-800 transition-colors">
                Zaloguj się
            </a>
        </div>
    {% endif %}
  </div>
</section>

<!-- Stats / Dashboard Preview -->
{% if username and collection_stats %}
<section class="py-12 bg-black border-b border-zinc-800">
    <div class="container mx-auto px-4 max-w-5xl">
        <div class="grid md:grid-cols-3 gap-6">
            <div class="feature-card p-6 rounded-2xl">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-zinc-400 font-medium text-sm uppercase tracking-wider">Wartość</h3>
                    <div class="p-2 bg-emerald-500/10 rounded-lg text-emerald-400"><i data-lucide="dollar-sign" class="w-5 h-5"></i></div>
                </div>
                <div class="text-3xl font-bold text-white mb-1">{{ "%.2f"|format(collection_stats.total_value) }} <span class="text-sm text-zinc-500">PLN</span></div>
                <div class="text-xs text-emerald-400 flex items-center gap-1 mt-2">
                    <i data-lucide="trending-up" class="w-3 h-3"></i>
                    Aktualizacja na żywo
                </div>
            </div>
            
            <div class="feature-card p-6 rounded-2xl">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-zinc-400 font-medium text-sm uppercase tracking-wider">Karty</h3>
                    <div class="p-2 bg-indigo-500/10 rounded-lg text-indigo-400"><i data-lucide="layers" class="w-5 h-5"></i></div>
                </div>
                <div class="text-3xl font-bold text-white mb-1">{{ collection_stats.total_cards }}</div>
                <div class="text-xs text-zinc-500 mt-2">
                    {{ collection_stats.unique_cards }} unikalnych wzorów
                </div>
            </div>
            
            <div class="feature-card p-6 rounded-2xl flex flex-col justify-center items-center text-center group cursor-pointer" onclick="window.location.href='/cards/add'">
                <div class="w-12 h-12 bg-zinc-800 rounded-full flex items-center justify-center mb-3 group-hover:bg-zinc-700 transition-colors text-zinc-400 group-hover:text-white">
                    <i data-lucide="plus" class="w-6 h-6"></i>
                </div>
                <h3 class="text-white font-bold">Dodaj nową kartę</h3>
                <p class="text-xs text-zinc-500 mt-1">Skanuj lub wyszukaj</p>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Features Grid (Guest) -->
{% if not username %}
<section class="py-16 bg-black">
    <div class="container mx-auto px-4 max-w-6xl">
        <div class="grid md:grid-cols-3 gap-8">
            <div class="text-center space-y-4 p-6">
                <div class="w-16 h-16 bg-indigo-500/10 rounded-2xl flex items-center justify-center mx-auto border border-indigo-500/20 text-indigo-400">
                    <i data-lucide="scan" class="w-8 h-8"></i>
                </div>
                <h3 class="text-xl font-bold text-white">Skaner AI</h3>
                <p class="text-zinc-400 leading-relaxed">Rozpoznawaj karty błyskawicznie używając aparatu w telefonie. Automatyczna wycena i identyfikacja.</p>
            </div>
            <div class="text-center space-y-4 p-6">
                <div class="w-16 h-16 bg-purple-500/10 rounded-2xl flex items-center justify-center mx-auto border border-purple-500/20 text-purple-400">
                    <i data-lucide="bar-chart-2" class="w-8 h-8"></i>
                </div>
                <h3 class="text-xl font-bold text-white">Analityka</h3>
                <p class="text-zinc-400 leading-relaxed">Śledź historię cen, zyski i straty. Wizualizuj wartość swojej kolekcji na interaktywnych wykresach.</p>
            </div>
            <div class="text-center space-y-4 p-6">
                <div class="w-16 h-16 bg-emerald-500/10 rounded-2xl flex items-center justify-center mx-auto border border-emerald-500/20 text-emerald-400">
                    <i data-lucide="shopping-bag" class="w-8 h-8"></i>
                </div>
                <h3 class="text-xl font-bold text-white">Licytacje</h3>
                <p class="text-zinc-400 leading-relaxed">Kupuj i sprzedawaj unikalne karty na naszym rynku licytacji. Bezpieczne transakcje i weryfikacja.</p>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Initialize Icons -->
<script>
    lucide.createIcons();
</script>
{% endblock %}
